{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome Welcome to the Hand Tracking Tool The Hand Tracking Tool is an open-source software platform for tracking hand movements from videos using modern machine learning approaches. This code-free software employs deep learning models from Google's MediaPipe with a custom interface to simplify hand tracking. The Hand Tracking Tool can be used as a general tool for tracking hand movement in videos. However, this tool was designed to assess upper limb Bradykinesia by tracking the distance between the index and thumb fingers during the Finger Tapping Test , a commonly used test that examines motor functioning in Parkinson's disease and other neurological diseases. Data Privacy Data privacy is at the heart of the Hand Tracking Tool, we are committed to keep your data safe. For this reason, your data is processed locally in your computer. One important limitation of machine learning applications is the need to submit your data to an external server for processing. However, this is not feasible with sensitive clinical data such as patients videos, where the patient's face or other identifiable features might be visible. The Hand Tracking Tool is an offline tool, this web application can be used without being connected to the internet after downloading the deep learning models for video processing. Data is processed locally on the user's computer, and never sent to an external server. We made this tool offline to make sure that everyone can use it regardless if the processed data is personal or clinical. However, this design decision implies that the time to process videos will vary widely from computer to computer. To speed up processing, it is recomended to use the Hand Tracking Tool with a computer that includes a GPU.","title":"Home"},{"location":"#welcome","text":"","title":"Welcome"},{"location":"#welcome-to-the-hand-tracking-tool","text":"The Hand Tracking Tool is an open-source software platform for tracking hand movements from videos using modern machine learning approaches. This code-free software employs deep learning models from Google's MediaPipe with a custom interface to simplify hand tracking. The Hand Tracking Tool can be used as a general tool for tracking hand movement in videos. However, this tool was designed to assess upper limb Bradykinesia by tracking the distance between the index and thumb fingers during the Finger Tapping Test , a commonly used test that examines motor functioning in Parkinson's disease and other neurological diseases.","title":"Welcome to the Hand Tracking Tool"},{"location":"#data-privacy","text":"Data privacy is at the heart of the Hand Tracking Tool, we are committed to keep your data safe. For this reason, your data is processed locally in your computer. One important limitation of machine learning applications is the need to submit your data to an external server for processing. However, this is not feasible with sensitive clinical data such as patients videos, where the patient's face or other identifiable features might be visible. The Hand Tracking Tool is an offline tool, this web application can be used without being connected to the internet after downloading the deep learning models for video processing. Data is processed locally on the user's computer, and never sent to an external server. We made this tool offline to make sure that everyone can use it regardless if the processed data is personal or clinical. However, this design decision implies that the time to process videos will vary widely from computer to computer. To speed up processing, it is recomended to use the Hand Tracking Tool with a computer that includes a GPU.","title":"Data Privacy"},{"location":"processing/","text":"Processing Videos Processing a video can be achieved following these steps: 1. Load a valid video file: Click Load Video and select a video file 2. Select the area of the video that contains the hand (s) The algorithms used for video processing will try to automatically localize the hands in the video. However, if there is more than one person in the video, or if the video is not focused on the person of interest, the algorithms might have issues localizing the hands and produce erroneus results. The Hand Tracking Tool allows you to select an area of the video where the algorithm can easily find the hands for processing. To select an area, simply click anywhere in the video and drag you mouse, a red rectangle will appear demarking the selected area. You can only select one area for the video. Next, we discuss a few scenarios demonstrating the use of the area selection tool: a. More than one person in the frame: Often, the video frames contain the subject and the clinician performing the evaluation. In that case, the area selection tool can be used to select the region of the video containing the subjects' hands as shown in the following images b. Select a single hand Sometimes, we would like to get results from a single hand. In that case, is possible to select the area of the video containing the hand of interest as shown in the following images Note You don't need to select an area for The Hand Tracking Tool to work. However, selecting an area might speed up the processing and improve the tracking accuracy. 3. Select the segment (s) of the video for analysis When you upload a video, The Hand Tracking Tool will read the audio from the video file and display an audio waveform under the video. This audio waveform can be used to quckly navigate through the video by clicking at different time points. The cursor in the audio waveform indicates the current video timestamp. You can click and drag in any portion of the audio waveform to select a segment in the video for processing. You can only select up to two segments per video, corresponding to the Finger Taping Test for the left and righ hands. The following image demonstrates the selection of two segments in the video, each segments corresponds to activity in each hand You can adjust the segments using your mouse by draging the borders to the left or right. You can also remove a segment by double click on it. Note You don't need to select a video segment for The Hand Tracking Tool to work. However, selecting a video segment will improve the processing speed and gurantee that the algorithm is used to track the desired movement. 4. Process the video Click on Process and wait until the algorithm processes all the video frames. The processing can be cancelled at any time; however, if the process is cancelled, the information will be lost. Model Selection By default, the Hand Tracking Tool will attemp to localize and track only the hands from the video. However, in cases where there is a lot of movement, the algorithm might have difficulties tracking the hands. To address this limitation, The Hand Tracking Tool can do an initial hand localization step before tracking the hand movement. For this, you must select the Full Body option at the bottom of the screen. Note that selecting the Full Body option will significantly increase the processing time. This option should be used as last resource.","title":"Processing Videos"},{"location":"processing/#processing-videos","text":"Processing a video can be achieved following these steps:","title":"Processing Videos"},{"location":"processing/#1-load-a-valid-video-file","text":"Click Load Video and select a video file","title":"1. Load a valid video file:"},{"location":"processing/#2-select-the-area-of-the-video-that-contains-the-hand-s","text":"The algorithms used for video processing will try to automatically localize the hands in the video. However, if there is more than one person in the video, or if the video is not focused on the person of interest, the algorithms might have issues localizing the hands and produce erroneus results. The Hand Tracking Tool allows you to select an area of the video where the algorithm can easily find the hands for processing. To select an area, simply click anywhere in the video and drag you mouse, a red rectangle will appear demarking the selected area. You can only select one area for the video. Next, we discuss a few scenarios demonstrating the use of the area selection tool:","title":"2. Select the area of the video that contains the hand (s)"},{"location":"processing/#a-more-than-one-person-in-the-frame","text":"Often, the video frames contain the subject and the clinician performing the evaluation. In that case, the area selection tool can be used to select the region of the video containing the subjects' hands as shown in the following images","title":"a. More than one person in the frame:"},{"location":"processing/#b-select-a-single-hand","text":"Sometimes, we would like to get results from a single hand. In that case, is possible to select the area of the video containing the hand of interest as shown in the following images Note You don't need to select an area for The Hand Tracking Tool to work. However, selecting an area might speed up the processing and improve the tracking accuracy.","title":"b. Select a single hand"},{"location":"processing/#3-select-the-segment-s-of-the-video-for-analysis","text":"When you upload a video, The Hand Tracking Tool will read the audio from the video file and display an audio waveform under the video. This audio waveform can be used to quckly navigate through the video by clicking at different time points. The cursor in the audio waveform indicates the current video timestamp. You can click and drag in any portion of the audio waveform to select a segment in the video for processing. You can only select up to two segments per video, corresponding to the Finger Taping Test for the left and righ hands. The following image demonstrates the selection of two segments in the video, each segments corresponds to activity in each hand You can adjust the segments using your mouse by draging the borders to the left or right. You can also remove a segment by double click on it. Note You don't need to select a video segment for The Hand Tracking Tool to work. However, selecting a video segment will improve the processing speed and gurantee that the algorithm is used to track the desired movement.","title":"3. Select the segment (s) of the video for analysis"},{"location":"processing/#4-process-the-video","text":"Click on Process and wait until the algorithm processes all the video frames. The processing can be cancelled at any time; however, if the process is cancelled, the information will be lost.","title":"4. Process the video"},{"location":"processing/#model-selection","text":"By default, the Hand Tracking Tool will attemp to localize and track only the hands from the video. However, in cases where there is a lot of movement, the algorithm might have difficulties tracking the hands. To address this limitation, The Hand Tracking Tool can do an initial hand localization step before tracking the hand movement. For this, you must select the Full Body option at the bottom of the screen. Note that selecting the Full Body option will significantly increase the processing time. This option should be used as last resource.","title":"Model Selection"},{"location":"recording/","text":"Recordings You can use your preferred device to record videos. The web app also provides a handy tool to record videos using your webcam. The videos are recorded as .webm and encodec using the h.264 codec. Webcam The recording tool can be found under the >>Record section of the application. This recording tool will allow you to record short videos (maximum 30s) and will stop automatically. You can also stop the recording at any point. Once the recording is completed, a save window will appear where you can select the file name and path. Video files will be saved with extension .webm . iPhone If you are recording with an iPhone, you must adjust the format that the camera uses to store videos. In Settings , go to Camera and select Formats and then select Most Compatible You migh also chose to record your videos at 60 fps to improve the quality of movement tracking results.","title":"Recording"},{"location":"recording/#recordings","text":"You can use your preferred device to record videos. The web app also provides a handy tool to record videos using your webcam. The videos are recorded as .webm and encodec using the h.264 codec.","title":"Recordings"},{"location":"recording/#webcam","text":"The recording tool can be found under the >>Record section of the application. This recording tool will allow you to record short videos (maximum 30s) and will stop automatically. You can also stop the recording at any point. Once the recording is completed, a save window will appear where you can select the file name and path. Video files will be saved with extension .webm .","title":"Webcam"},{"location":"recording/#iphone","text":"If you are recording with an iPhone, you must adjust the format that the camera uses to store videos. In Settings , go to Camera and select Formats and then select Most Compatible You migh also chose to record your videos at 60 fps to improve the quality of movement tracking results.","title":"iPhone"},{"location":"requirements/","text":"Requirements The Hand Tracking Tool is a web app limited to use open-source web technologies. For this reason, the application only works with videos encapsulated in .mp4 or .webm formats, and encoded with h.264 codec. If your video is already in .mp4 or .webm formats, try to upload it to the web app. If there is no video displayed on the site, then you need to recode your video to h.264 . There are many online tools to convert your video to h.264 and save it in .mp4 format. Including: https://video-converter.com/ Bear File Converter Convert Files Local processing You can also recode your videos locally using FFmpeg . After installing the software, you can covert your files using the following command (in the command line or terminal): ffmpeg -i INPUTFILE -vcodec libx264 -acodec copy OUTPUTFILE.mp4 For example, if your file is myvideo.avi , then your command shoud be ffmpeg -i myvideo.avi -vcodec libx264 -acodec copy myvideo.mp4 you migh also need to provide the file with a full path. Improving video quality If you would like to improve the resulting video quality, is possible to manipulate serveral FFmpeg parameters. In particular, you can modifidy parameters as CRF and Preset . CRF : The range of the CRF scale is 0\u201351, where 0 is lossless (for 8 bit only, for 10 bit use -qp 0), 23 is the default, and 51 is worst quality possible. A lower value generally leads to higher quality, and a subjectively sane range is 17\u201328. Consider 17 or 18 to be visually lossless or nearly so; it should look the same or nearly the same as the input but it isn't technically lossless. The range is exponential, so increasing the CRF value +6 results in roughly half the bitrate / file size, while -6 leads to roughly twice the bitrate. Choose the highest CRF value that still provides an acceptable quality. If the output looks good, then try a higher value. If it looks bad, choose a lower value. Preset : A preset is a collection of options that will provide a certain encoding speed to compression ratio. A slower preset will provide better compression (compression is quality per filesize). This means that, for example, if you target a certain file size or constant bit rate, you will achieve better quality with a slower preset. Similarly, for constant quality encoding, you will simply save bitrate by choosing a slower preset. Use the slowest preset that you have patience for. The available presets in descending order of speed are: - ultrafast - superfast - veryfast - faster - fast - medium \u2013 default preset - slow - slower - veryslow More information can be found here","title":"Requirements"},{"location":"requirements/#requirements","text":"The Hand Tracking Tool is a web app limited to use open-source web technologies. For this reason, the application only works with videos encapsulated in .mp4 or .webm formats, and encoded with h.264 codec. If your video is already in .mp4 or .webm formats, try to upload it to the web app. If there is no video displayed on the site, then you need to recode your video to h.264 . There are many online tools to convert your video to h.264 and save it in .mp4 format. Including: https://video-converter.com/ Bear File Converter Convert Files","title":"Requirements"},{"location":"requirements/#local-processing","text":"You can also recode your videos locally using FFmpeg . After installing the software, you can covert your files using the following command (in the command line or terminal): ffmpeg -i INPUTFILE -vcodec libx264 -acodec copy OUTPUTFILE.mp4 For example, if your file is myvideo.avi , then your command shoud be ffmpeg -i myvideo.avi -vcodec libx264 -acodec copy myvideo.mp4 you migh also need to provide the file with a full path.","title":"Local processing"},{"location":"requirements/#improving-video-quality","text":"If you would like to improve the resulting video quality, is possible to manipulate serveral FFmpeg parameters. In particular, you can modifidy parameters as CRF and Preset . CRF : The range of the CRF scale is 0\u201351, where 0 is lossless (for 8 bit only, for 10 bit use -qp 0), 23 is the default, and 51 is worst quality possible. A lower value generally leads to higher quality, and a subjectively sane range is 17\u201328. Consider 17 or 18 to be visually lossless or nearly so; it should look the same or nearly the same as the input but it isn't technically lossless. The range is exponential, so increasing the CRF value +6 results in roughly half the bitrate / file size, while -6 leads to roughly twice the bitrate. Choose the highest CRF value that still provides an acceptable quality. If the output looks good, then try a higher value. If it looks bad, choose a lower value. Preset : A preset is a collection of options that will provide a certain encoding speed to compression ratio. A slower preset will provide better compression (compression is quality per filesize). This means that, for example, if you target a certain file size or constant bit rate, you will achieve better quality with a slower preset. Similarly, for constant quality encoding, you will simply save bitrate by choosing a slower preset. Use the slowest preset that you have patience for. The available presets in descending order of speed are: - ultrafast - superfast - veryfast - faster - fast - medium \u2013 default preset - slow - slower - veryslow More information can be found here","title":"Improving video quality"},{"location":"results/","text":"Results Once you start processing a video, the progress will be shown in the audio waveform. This visual aid will help you to estimate the processing speed and remaining processing time. After the video processing in completed, The Hand Tracking Tool will provide two plots showing the distance between thumb and index fingers for the right and left hands. If your analysis includes only one hand, then you will still see both plots but only one will have data in it. You can download the plots as images by right click on the plot. The signals are low-pass filtered by a 10Hz filter. Peaks and valleys The Hand Tracking Tool will automatically identify the peaks and valleys on the signal, corresponding to the opening and closing of the fingers. Peaks are identified with purple marks, and valleys with green marks. Modifying Peaks and Valleys Peak to Peak Distance : The peak detection algorithm can be modified to discard peaks that are too close toghether. The default minimum distance is 0.3s, and this value can be modified with the sliding bar on top of the plot. Remove Peaks or Valleys : You can select a peak or valley by clicking on it, the selected element will change its color to magenta To de-select an element, press Esc To remove an element, press R Add Peaks : You can add a new Peaks by pressing and holding Q , and clicking in the curve. A new purple mark will be added. Add Valley : You can add a new Valley by pressing and holding W , and clicking in the curve. A new green mark will be added. Saving Data The Hand Tracking Tool allows you save all the resuls, including the signals, the peaks and valleys, the landmarks, and everything together. Data will be stored as a .JSON file than can be easily read using regular data analysis software.","title":"Results"},{"location":"results/#results","text":"Once you start processing a video, the progress will be shown in the audio waveform. This visual aid will help you to estimate the processing speed and remaining processing time. After the video processing in completed, The Hand Tracking Tool will provide two plots showing the distance between thumb and index fingers for the right and left hands. If your analysis includes only one hand, then you will still see both plots but only one will have data in it. You can download the plots as images by right click on the plot. The signals are low-pass filtered by a 10Hz filter.","title":"Results"},{"location":"results/#peaks-and-valleys","text":"The Hand Tracking Tool will automatically identify the peaks and valleys on the signal, corresponding to the opening and closing of the fingers. Peaks are identified with purple marks, and valleys with green marks.","title":"Peaks and valleys"},{"location":"results/#modifying-peaks-and-valleys","text":"Peak to Peak Distance : The peak detection algorithm can be modified to discard peaks that are too close toghether. The default minimum distance is 0.3s, and this value can be modified with the sliding bar on top of the plot. Remove Peaks or Valleys : You can select a peak or valley by clicking on it, the selected element will change its color to magenta To de-select an element, press Esc To remove an element, press R Add Peaks : You can add a new Peaks by pressing and holding Q , and clicking in the curve. A new purple mark will be added. Add Valley : You can add a new Valley by pressing and holding W , and clicking in the curve. A new green mark will be added.","title":"Modifying Peaks and Valleys"},{"location":"results/#saving-data","text":"The Hand Tracking Tool allows you save all the resuls, including the signals, the peaks and valleys, the landmarks, and everything together. Data will be stored as a .JSON file than can be easily read using regular data analysis software.","title":"Saving Data"},{"location":"start/","text":"Getting Started Notice that you need a working internet connection to use the app. The video analysis app can be found under the >>Video Analysis section of the application. Once you load the web app, you will see a Load Video button that is disabled (you cannot click on it). The button will become enable once the hand tracking model is downloaded from the server. At this point, the user can disconnect the computer from the internet and continue ussing the application offline. The videos will be processed locally. Components The Hand Tracking Tool has 7 main components: Load Video button When clicked, the user is promted to select a video from the computer hard drive. If the video is too large (more that a few minutes), it is recorded to create a short version of the video in any video editing software. Video size selector A handy tool that allows you to change the size of the video in the screen. Default value is 50%. Video display Video visualization PlayBack controls Buttons to manipulate the video playback. Users can Play/Pause a video, and move forward and backward in the video jumping 1 frame or 5 frames at the time. Audio waveform signal visualizer Audio waveform visualizer Process button Buttons to trigger/stop video analysis. The video processing algorithsm will begin inmmediatly after clicking on Process . These algorithms can be stopped at any moment by clicking on the same button. Note that if the process is stopped, then all the results obtained so far will be lost. Because of the way that most modern web browser handle background process, the video will be processed only if the tab containing the Hand Tracking Tool is visible (i.e., is not in the background). Thus, it is recomended not no open any other tabs in the same window than the Hand Tracking Tool. Model selector The Hand Tracking Tool can use two models, a hand pose tracking mdoel and and a body pose tracking model. The tool uses the hand pose tracking model by default and should be the preferred option. However, under certain circumstances, the body pose tracking model might provide better results. Note that using the body pose tracking model will results in significant decrease in the processing speed.","title":"Getting Started"},{"location":"start/#getting-started","text":"Notice that you need a working internet connection to use the app. The video analysis app can be found under the >>Video Analysis section of the application. Once you load the web app, you will see a Load Video button that is disabled (you cannot click on it). The button will become enable once the hand tracking model is downloaded from the server. At this point, the user can disconnect the computer from the internet and continue ussing the application offline. The videos will be processed locally.","title":"Getting Started"},{"location":"start/#components","text":"The Hand Tracking Tool has 7 main components:","title":"Components"},{"location":"start/#load-video-button","text":"When clicked, the user is promted to select a video from the computer hard drive. If the video is too large (more that a few minutes), it is recorded to create a short version of the video in any video editing software.","title":"Load Video button"},{"location":"start/#video-size-selector","text":"A handy tool that allows you to change the size of the video in the screen. Default value is 50%.","title":"Video size selector"},{"location":"start/#video-display","text":"Video visualization","title":"Video display"},{"location":"start/#playback-controls","text":"Buttons to manipulate the video playback. Users can Play/Pause a video, and move forward and backward in the video jumping 1 frame or 5 frames at the time.","title":"PlayBack controls"},{"location":"start/#audio-waveform-signal-visualizer","text":"Audio waveform visualizer","title":"Audio waveform signal visualizer"},{"location":"start/#process-button","text":"Buttons to trigger/stop video analysis. The video processing algorithsm will begin inmmediatly after clicking on Process . These algorithms can be stopped at any moment by clicking on the same button. Note that if the process is stopped, then all the results obtained so far will be lost. Because of the way that most modern web browser handle background process, the video will be processed only if the tab containing the Hand Tracking Tool is visible (i.e., is not in the background). Thus, it is recomended not no open any other tabs in the same window than the Hand Tracking Tool.","title":"Process button"},{"location":"start/#model-selector","text":"The Hand Tracking Tool can use two models, a hand pose tracking mdoel and and a body pose tracking model. The tool uses the hand pose tracking model by default and should be the preferred option. However, under certain circumstances, the body pose tracking model might provide better results. Note that using the body pose tracking model will results in significant decrease in the processing speed.","title":"Model selector"},{"location":"validation/","text":"Validation Validation of Results The Hand Tracking Tool provides a handy approach to validate tracking results. Once the distance signals are computed and presented in a plot, you can follow these steps to validate your results: Press and hold V in your keyboard Click on the plot, make sure to click directly on the line The video position will be updated to match the time corresponding to the click on the plot.","title":"Validation"},{"location":"validation/#validation","text":"","title":"Validation"},{"location":"validation/#validation-of-results","text":"The Hand Tracking Tool provides a handy approach to validate tracking results. Once the distance signals are computed and presented in a plot, you can follow these steps to validate your results: Press and hold V in your keyboard Click on the plot, make sure to click directly on the line The video position will be updated to match the time corresponding to the click on the plot.","title":"Validation of Results"}]}